{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/dyy/Desktop/毕设相关/mall/mall/uni/mall_uni/pages/send/index.vue?bcbb","webpack:///C:/Users/dyy/Desktop/毕设相关/mall/mall/uni/mall_uni/pages/send/index.vue?b7c2","webpack:///C:/Users/dyy/Desktop/毕设相关/mall/mall/uni/mall_uni/pages/send/index.vue?8b09","webpack:///C:/Users/dyy/Desktop/毕设相关/mall/mall/uni/mall_uni/pages/send/index.vue?5cee","uni-app:///pages/send/index.vue","webpack:///C:/Users/dyy/Desktop/毕设相关/mall/mall/uni/mall_uni/pages/send/index.vue?b493","webpack:///C:/Users/dyy/Desktop/毕设相关/mall/mall/uni/mall_uni/pages/send/index.vue?eb37"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","fileList","baseurl","sum","user","shop_name","shop_introduce","address","mounted","uni","url","method","user_id","success","console","methods","delImg","title","that","TypeInput","icon","duration","afterRead","filePath","name","formData","deletable","add","reduce","addShop","img","introduce","price","username","setTimeout","components","van_uploader","onLoad","family","source","onShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACyD;AACL;AACqC;;;AAGzF;AAC+M;AAC/M,gBAAgB,6MAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8zB,CAAgB,+wBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgEl1B;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACAC;MACAC;MACAX;QACAY;MACA;MACAC;QACAC;MACA;IACA;EACA;EACAC;IAIAC;MACA;MACAP;QACAQ;QACAJ;UACAK;QACA;MACA;IACA;IAEAC;MACA;MACA;MACA;QACAV;UACAQ;UACAG;UACAC;QACA;QACA;QACA;MACA;QACA;MACA;IAIA;IAEAC;MACAR;MACA;MACA;MACA;MACAL;QAAA;QACAC;QAAA;QACAa;QACAC;QACAC;UAAA;UACArB;QACA;QACAS;UACA;UACA;YACAJ;cACAQ;cACAG;cACAC;YACA;YAEAH;cACAR;cACAgB;YAEA;UAEA;QACA;MACA;IACA;IAEA;IACAC;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACApB;UACAQ;UACAG;UACAC;QACA;QACA;MACA;;MAEA;MACA;QACAZ;UACAQ;UACAG;UACAC;QACA;QACA;MACA;;MAEA;MACA;QACAZ;UACAQ;UACAG;UACAC;QACA;QACA;MACA;;MAEA;MACA;QACAZ;UACAQ;UACAG;UACAC;QACA;QACA;MACA;;MAGA;MACA;MACA;QACAS;MACA;MACA;MACArB;QACAC;QAAA;QACAC;QACAX;UACAwB;UACAO;UACAxB;UACAyB;UACAF;UACAlB;UACAqB;QACA;QACApB;UACAC;UACA;YACAL;cACAQ;cACAG;cACAC;cACAR;gBACAqB;kBACAzB;oBACAC;kBACA;gBACA;cACA;YACA;UAIA;QACA;MACA;IAEA;EAEA;EACAyB;IACAC;EACA;EACAC;IAGA5B;MACA6B;MACAC;MACA1B;QACAC;MACA;IACA;EACA;EACA0B;IAEA;IACA,YAEA;MAAA;MACA1B;MACAL;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACxRA;AAAA;AAAA;AAAA;AAAisC,CAAgB,4lCAAG,EAAC,C;;;;;;;;;;;ACArtC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/send/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/send/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=48187344&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=48187344&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"48187344\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/send/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=48187344&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n<!--    使用vant-uploader-->\n\t<view style=\"width: 100%;display: flex;justify-content: center;flex-direction: column;align-items: center;\">\n\t\t<van_uploader  file-list=\"fileList\"\n\t\t\t\t\t\tstyle=\"margin: 0 auto;\"\n\t\t\t\t\t\tmax-count=\"5\"   deletable=\"true\" @after-read=\"afterRead\"></van_uploader>\n\n\r\n\r\n\r\n\t<view style=\"width: 60%;\">\r\n\t\t<label  class=\"label\" style=\"margin-top: 10px;\" >图片展示</label>\r\n\t</view>\r\n\t<view class=\"flex flex-wrap justify-start p-2 w-full\" style=\"width: 60%;margin: 10px;display: flex;flex-wrap: wrap;\">\r\n\t        <view v-for=\"(item,index) in fileList\t\" :style=\"{backgroundImage:'url('+item.url+')'\t}\" class=\"p-1 bg-cover rounded\" style=\"width: 33%;height: 100px;background-size: cover;margin: 5px;\">\r\n\t          <view\r\n\t\t\t\t\t\t @click=\"delImg(index)\"\r\n\t\t\t\t\t\t\tstyle=\"background-color: rgba(0,0,0,.5);width: 1rem;height: 1rem;border-radius: 99%;color: white;float: right;display: flex;justify-content: center;align-items: center;\" src=\"\">x</view>\r\n\t        </view>\r\n\t      </view>\r\n\n    <div class=\"input-group\">\n      <label class=\"label\">商品名字</label>\n      <input autocomplete=\"off\" v-model:value=\"user.shop_name\" name=\"Email\" id=\"Email\" class=\"input\" type=\"email\">\n      <div></div></div>\n\n    <div class=\"input-group\" style=\"margin-top: 20px\">\n      <label class=\"label\">简介</label>\n\t  <textarea name=\"\" style=\"height: 70px;padding: 10px;\"  v-model:value=\"user.shop_introduce\" auto-height\t id=\"\" cols=\"1100\" rows=\"40\"  class=\"input\"></textarea>\n      <div></div></div>\n\n\n\t<view style=\"margin-top: 10px;display: flex;width: 60%;justify-content: space-between;align-items: flex-start;flex-direction: column;\">\n\t\t<label class=\"label\">价格</label>\n\t\t<view style=\"display: flex;\">\n\t\t\t<input type=\"number\" placeholder=\"请输入价格\"  @input=\"TypeInput($event)\"  class=\"input\" v-model:value=\"sum\">\n\t\t</view>\n\t</view>\n\n\n\n    <div class=\"input-group\" style=\"margin-top: 20px\">\n      <label class=\"label\">地址</label>\n      <textarea name=\"\"  v-model:value=\"user.address\" style=\"height: 70px;padding: 10px;\" auto-height\t id=\"\" cols=\"1100\" rows=\"40\"  class=\"input\"></textarea>\n      <div></div></div>\n\r\n\r\n\t\r\n\n\r\n\r\n\n    <view\n        style=\"width: 60%;display: flex;justify-content: center;margin: 0 auto;margin-top: 50px;margin-bottom: 100px;\">\n      <view @click=\"addShop\" style=\"padding:10px;background: #47abea;color:white;border-radius: 10px\" class=\"pingfang\">提交商品</view>\n    </view>\n\t</view>\n\n\n\t</view>\n</template>\n\n<script>\nconst app=getApp();\nimport van_uploader from '../../static/dist/uploader';\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n        fileList: [],\n        baseurl:app.globalData.BaseUrl,\n\t\tsum:1,\n        user:{\n          shop_name:'',\n          shop_introduce:'',\n          address:\"\"\n        }\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tuni.request({\n\t\t\t\t\turl:this.$data.baseurl+'getMyGoods',\n\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\tdata:{\n\t\t\t\t\t\tuser_id:uni.getStorageSync('id')\n\t\t\t\t\t},\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tmethods: {\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tdelImg(index){\r\n\t\t\t\tlet that=this\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle:\"删除成功\",\r\n\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\tthat.fileList.splice(that.fileList[index],1)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\n\t\tTypeInput(e, val) {\n\t\t\t\t\t\t// 只能输入数字的验证;\n\t\t\t\t\t\tconst inputType = /[^\\d]/g   //想限制什么类型在这里换换正则就可以了\n      if (inputType.test(e.detail.value)) {\n        uni.showToast({\n          title: '请输入数字',\n          icon: 'none',\n          duration: 2000\n        })\n        this.sum = ''\n        return\n      }else {\n        this.sum = e.detail.value\n      }\n\n\n\n\t\t\t\t\t},\n\n      afterRead(event) {\n        console.log(event)\n        let that=this\n        const { file } = event;\n      //  上传图片\n        uni.uploadFile({  //上传图片\n          url: this.$data.baseurl+'api/upload', //仅为示例，非真实的接口地址\n          filePath: file.url,\n          name: 'file',\n          formData: {  //\n            user:'test'\n          },\n          success(res) {\n            let result=JSON.parse(res.data)\n            if(result.code==0){\n              uni.showToast({\n                title: '上传成功',\n                icon: 'success',\n                duration: 2000\n              });\n\n              that.$data.fileList.push({\n                url:that.$data.baseurl+result.url,\n                deletable: true,\n\n              })\n\n            }\n          }\n        })\n      },\n\n    //  添加\n      add(){\n        this.$data.sum++\n      },\n\n    //  减少\n      reduce(){\n        if(this.$data.sum>1){\n          this.$data.sum--\n        }\n      },\n\n    //  添加商品\n      addShop(){\n      //不能相册不能为空\n        if(this.$data.fileList.length==0){\n          uni.showToast({\n            title: '请上传图片',\n            icon: 'none',\n            duration: 2000\n          });\n          return\n        }\n\n        //商品名字不能为空\n        if(this.$data.user.shop_name==''){\n          uni.showToast({\n            title: '商品名字不能为空',\n            icon: 'none',\n            duration: 2000\n          });\n          return\n        }\n\n        //商品简介不能为空\n        if(this.$data.user.shop_introduce==''){\n          uni.showToast({\n            title: '商品简介不能为空',\n            icon: 'none',\n            duration: 2000\n          });\n          return\n        }\n\n        //商品地址不能为空\n        if(this.$data.user.address==''){\n          uni.showToast({\n            title: '商品地址不能为空',\n            icon: 'none',\n            duration: 2000\n          });\n          return\n        }\n\n\n        //将图片数据类型转换成 [\"/upload/2020-05-20/5ec4f8b0e1b5f.jpg\",\"/upload/2020-05-20/5ec4f8b0e1b5f.jpg\"]\n        let img=[]\n        this.$data.fileList.forEach(item=>{\n          img.push(item.url)\n        })\n        //  提交商品\n        uni.request({\n          url: this.$data.baseurl+'addGoods', //仅为示例，并非真实接口地址。\n\t\t\t\t\tmethod:\"POST\",\n          data: {\n            name:this.$data.user.shop_name,\n            introduce:this.$data.user.shop_introduce,\n            address:this.$data.user.address,\n            price:this.$data.sum,\n            img:img,\n            user_id:uni.getStorageSync('id'),\n            username:uni.getStorageSync('username')\n          },\n          success (res) {\n            console.log(res.data)\n            if(res.data.code==1){\n              uni.showToast({\n                title: '添加成功',\n                icon: 'success',\n                duration: 2000,\r\n\t\t\t\t\t\t\t\tsuccess() {\r\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t  url: '/pages/index/index'\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t},1500)\r\n\t\t\t\t\t\t\t\t}\n              });\n\n             \n\n            }\n          }\n        })\n\n      }\n\n\t\t},\n    components: {\n      van_uploader\n    },\n    onLoad(){\n\n\n      uni.loadFontFace({\n        family: 'PingFang',\n        source: 'url(\"https://636c-cloud1-1g1p0gb13cd58cde-1316153423.tcb.qcloud.la/%E8%8B%B9%E6%96%B9-%E7%AE%80.ttf?sign=0737c1b101f64545d231a285fcc1b796&t=1672448538\")',\n        success() {\n          console.log('字体下载成功');\n        }\n      });\n    },\n\tonShow() {\n\n\t\tlet token = uni.getStorageSync('token')||false\n\t\tif(token){\n\n\t\t}else{  //没有token\n\t\t  console.log('没有token')\n\t\t uni.navigateTo({\n\t\t \turl:\"/pages/login/index\"\n\t\t })\n\t\t}\n\t}\n\t}\n</script>\n\n<style scoped>\n.input {\n  max-width: 190px;\n  height: 44px;\n  background-color: #05060f0a;\n  border-radius: .5rem;\n  padding: 0 1rem;\n  border: 2px solid transparent;\n  font-size: 1rem;\n  transition: border-color .3s cubic-bezier(.25,.01,.25,1) 0s, color .3s cubic-bezier(.25,.01,.25,1) 0s,background .2s cubic-bezier(.25,.01,.25,1) 0s;\n}\n\n.label {\n  display: block;\n  margin-bottom: .3rem;\n  font-size: .9rem;\n  font-weight: bold;\n  color: #05060f99;\n  transition: color .3s cubic-bezier(.25,.01,.25,1) 0s;\n}\n\n.input:hover, .input:focus, .input-group:hover .input {\n  outline: none;\n  border-color: #05060f;\n}\n\n.input-group:hover .label, .input:focus {\n  color: #05060fc2;\n}\n\n.pingfang{\n  font-family:PingFang;\n}\n</style>\n","import mod from \"-!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=48187344&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=48187344&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1674102527339\n      var cssReload = require(\"C:/Users/dyy/HBuilderX.3.6.12.20221207-alpha/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}